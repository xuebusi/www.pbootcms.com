<!doctype html>
<html lang="zh">
<head>
<meta charset="utf-8">
<title>模板制作教程(五) - 多级导航菜单-系统使用-PbootCMS官网-永久开源免费的PHP企业网站开发建设管理系统</title>
<meta name="keywords" content="pbootcms,cms,免费cms,开源cms,企业cms,cms系统,php源码,建站系统">
<meta name="description" content="从本篇教程开始，将会以网站中常用的一些组件为例，来帮助大家了解和熟悉PbootCMS的标签。因为习惯从上往下写页面代码，所以就从网页头部的导航菜单开始。本篇教程所需要掌握的知识点：CSS盒子模型、CSS选择器、浮动、清除浮动、绝对定位、相对定位、CSS32D转换、CSS3过渡、导航菜单列表标签、">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,shrink-to-fit=no">
<link rel="stylesheet" href="../res/v1/bootstrap/css/bootstrap.min.css" >
<link rel="stylesheet" href="../res/v1/font-awesome-4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../res/v1/css/aoyun.css%3Fv=v1.2.2.css" >
<link rel="stylesheet" href="../res/v1/swiper-4.3.5/css/swiper.min.css">
<link rel="stylesheet" href="../res/v1/css/animate.css">
<link rel="stylesheet" href="../res/v1/css/timeline.css">
<script src="../res/v1/js/jquery-1.12.4.min.js" ></script>
<script>
	var _hmt = _hmt || [];
	(function() {
		var hm = document.createElement("script");
		hm.src = "https://hm.baidu.com/hm.js?ef3eed06c5750943b257fdafeca709f7";
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(hm, s);
	})();
</script>

</head>
<body>

<!-- 头部导航 -->
<nav class="navbar  navbar-light bg-light  fixed-top navbar-expand-lg shadow-sm">
  <div class="container">
        <a class="navbar-brand my-1" href="../index.html">
          <img src="../static/upload/image/20181009/1539096851753973.png" class="h-50px logo-sm-height d-inline-block align-top" alt="PbootCMS官网">
        </a>
        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
	    
	    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
	        <ul class="navbar-nav">
	       	  <li class="nav-item ">
				 <a class="nav-link" href="../index.html" >首页</a>
	          </li>
	          
	              <li class="nav-item ">
	                <a class="nav-link" href="../aboutus/index.html">系统简介</a>
	              </li>
	          
	              <li class="nav-item ">
	                <a class="nav-link" href="../freesn/index.html">免费授权</a>
	              </li>
	          
	              <li class="nav-item ">
	                <a class="nav-link" href="../cooperation/index.html">推荐商家</a>
	              </li>
	          
	              <li class="nav-item ">
	                <a class="nav-link" href="../docs/index.html">开发手册</a>
	              </li>
	          
	              <li class="nav-item active">
	                <a class="nav-link" href="../technology/index.html">技术交流</a>
	              </li>
	          
	              <li class="nav-item ">
	                <a class="nav-link" href="../changelog/index.html">更新日志</a>
	              </li>
	          
			</ul>
	    </div>
    </div>
</nav>

<!--占位导航栏-->
<div style="height:71px" class="head-sm-height"></div>



<div class="container pages">

	 
	 
  	  <!-- 分类导航 -->
<div class="sonsort mt-4 mb-2">
    
    	
            
                <a href="../technology/index.html" class="btn btn-light mb-2">全部 <span class="badge btn-info">68</a>
            
        
        
        
            <a href="index.html" class="btn btn-info mb-2">系统使用 <span class="badge badge-light">30</span></a>
        
    
    	
        
        
            <a href="../environmenta-deployment/index.html" class="btn btn-light mb-2">环境部署 <span class="badge btn-info">5</span></a>
        
    
    	
        
        
            <a href="../website-tool/index.html" class="btn btn-light mb-2">建站工具 <span class="badge btn-info">6</span></a>
        
    
    	
        
        
            <a href="../video-tutorials/index.html" class="btn btn-light mb-2">视频教程 <span class="badge btn-info">15</span></a>
        
    
    	
        
        
            <a href="../dev-log/index.html" class="btn btn-light mb-2">开发日志 <span class="badge btn-info">12</span></a>
        
    
</div>
     
    <h2 class="text-center my-4">模板制作教程(五) - 多级导航菜单</h2>
    <div class="text-center border-bottom text-secondary pb-2 mb-3">
    	 作者：缇墨网络&nbsp;&nbsp;&nbsp; 时间：2018-11-06&nbsp;&nbsp;&nbsp;访问量：8376 
    </div>
	<div class="content mb-3">
	<p>从本篇教程开始，将会以网站中常用的一些组件为例，来帮助大家了解和熟悉PbootCMS的标签。</p><p>因为习惯从上往下写页面代码，所以就从网页头部的导航菜单开始。</p><p><br/></p><p>本篇教程所需要掌握的知识点：CSS盒子模型、CSS选择器、浮动、清除浮动、绝对定位、相对定位、CSS3 2D转换、CSS3 过渡、导航菜单列表标签、当前栏目标签、if条件语句、PHP运算符。<br/></p><p><br/></p><p>每个人都有自己的代码习惯，比如我就喜欢先写HTML（结构），再写模板标签（数据），接着写CSS（样式），最后写JS（交互）。</p><p>所以，先开始写导航菜单的HTML部分：</p><pre class="brush:html;toolbar:false">&lt;!--&nbsp;演示就只写二级导航，更多级导航大家可以依葫芦画瓢&nbsp;--&gt;
&lt;nav&nbsp;class=&quot;menu&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;#&quot;&gt;&lt;/a&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;&quot;&gt;&lt;/a&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;
&lt;/nav&gt;</pre><p>是不是很简单？就是ul和li的无序列表嵌套而已。如果不想写CSS的时候进行复杂的子元素选择，还可以给二级菜单的ul加个class，比如实例代码：</p><p><img src="../static/upload/image/20181106/1541485556640946.jpg" title="1541404302373375.jpg" alt="001.jpg"/></p><p><br/></p><p>接下来，使用PbootCMS的模板标签来填充数据：</p><p>{pboot:pre}<br/></p><pre class="brush:html;toolbar:false">&lt;nav&nbsp;class=&quot;menu&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{pboot:nav}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;[nav:link]&quot;&gt;[nav:name]&lt;/a&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&nbsp;class=&quot;sub-menu&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{pboot:2nav&nbsp;parent=[nav:scode]}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;[2nav:link]&quot;&gt;[2nav:name]&lt;/a&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/pboot:2nav}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/pboot:nav}
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;
&lt;/nav&gt;</pre><p>{/pboot:pre}</p><p>看一下前端页面：</p><p><img src="../static/upload/image/20181106/1541485556131222.jpg" title="1541405054965810.jpg" alt="002.jpg"/></p><p>可以看到，二级菜单已经调用出来了，接下来处理一下导航高亮。</p><p><br/></p><p>导航高亮：</p><p>原理：判断当前栏目的ID和导航的ID是否一致，如果一致，则添加class，然后CSS中给这个class设置高亮样式。</p><p>方案：使用if条件语句结合当前栏目标签以及导航菜单列表标签进行判断。</p><p>代码：</p><p>{pboot:pre}</p><pre class="brush:html;toolbar:false">&lt;nav&nbsp;class=&quot;menu&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{pboot:nav}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&nbsp;class=&quot;{pboot:if(&#39;[nav:scode]&#39;==&#39;{sort:tcode}&#39;)}active{/pboot:if}&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;[nav:link]&quot;&gt;[nav:name]&lt;/a&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&nbsp;class=&quot;sub-menu&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{pboot:2nav&nbsp;parent=[nav:scode]}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&nbsp;class=&quot;{pboot:if(&#39;[2nav:scode]&#39;==&#39;{sort:scode}&#39;)}active{/pboot:if}&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;[2nav:link]&quot;&gt;[2nav:name]&lt;/a&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/pboot:2nav}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/pboot:nav}
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;
&lt;/nav&gt;</pre><p>{/pboot:pre}</p><p>说明：[nav:scode]是导航列表标签中调用的栏目id，{sort:tcode}是当前栏目的顶级栏目编码。那么，这里为什么不用{sort:scode}这个当前栏目编码呢？虽然在一级导航中，当前栏目{sort:scode}和顶级栏目{sort:tcode}的值是一样的，能起到一样的效果。但是导航是需要整站通用的，在子栏目页面，{sort:scode}的值就是子栏目的id了，主导航的一级栏目就得不到高亮样式了。同理，这里也不用{sort:pcode}父级栏目编码。在最下级的导航中则只需要判断[nav:scode]等于{sort:scode}就可以了。留一个思考题吧：如果是三级或者更多级导航的时候应该怎么样判断？提示：利用PHP运算符来组合多个if条件。</p><p><br/></p><p>到此为之，多级导航所需要的东西都存在了，接下来就交给CSS来把这个多级导航美化一下了。</p><p><br/></p><p>一、磨刀不误砍柴工，先做一些准备（关于涉及到的一些CSS概念，大家可以自行百度或者去看CSS参考手册）。</p><p>1、设置盒模型（方便padding和margin的计算）</p><pre class="brush:css;toolbar:false">//演示就简单粗暴地使用*来
*&nbsp;{&nbsp;box-sizing:&nbsp;border-box;&nbsp;}</pre><p><br/></p><p>2、浮动与清除浮动</p><pre class="brush:css;toolbar:false">//左浮动
.float-left&nbsp;{&nbsp;float:&nbsp;left;&nbsp;}

//右浮动
.float-right&nbsp;{&nbsp;float:&nbsp;right;&nbsp;}

//清除浮动
.clearfix::before&nbsp;{&nbsp;content:&nbsp;&quot;&quot;;&nbsp;display:&nbsp;table-cell;&nbsp;}
.clearfix::after&nbsp;{&nbsp;content:&nbsp;&quot;&quot;;&nbsp;display:&nbsp;table;&nbsp;clear:&nbsp;both;&nbsp;}</pre><p><br/></p><p>3、设置字体</p><pre class="brush:css;toolbar:false">body&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;padding:&nbsp;0;&nbsp;color:&nbsp;#333;&nbsp;font:&nbsp;16px/24px&nbsp;&quot;-apple-system&quot;,&nbsp;&quot;Helvetica&quot;,&nbsp;&quot;Microsoft&nbsp;YaHei&quot;,&nbsp;&quot;PingFang&nbsp;SC&quot;;&nbsp;outline:&nbsp;none;&nbsp;}</pre><p><br/></p><p>4、清除ul和li的默认样式</p><pre class="brush:css;toolbar:false">ul,&nbsp;li&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;padding:&nbsp;0;&nbsp;list-style:&nbsp;none;&nbsp;}</pre><p><br/></p><p>5、设置a标签的默认样式</p><pre class="brush:css;toolbar:false">a,&nbsp;a:after,&nbsp;a:before&nbsp;{&nbsp;text-decoration:&nbsp;none;&nbsp;color:&nbsp;#333;&nbsp;cursor:&nbsp;pointer;&nbsp;outline:&nbsp;none;
&nbsp;&nbsp;&nbsp;&nbsp;-webkit-transition:&nbsp;all&nbsp;0.5s;
&nbsp;&nbsp;&nbsp;&nbsp;-moz-transition:&nbsp;all&nbsp;0.5s;
&nbsp;&nbsp;&nbsp;&nbsp;-ms-transition:&nbsp;all&nbsp;0.5s;
&nbsp;&nbsp;&nbsp;&nbsp;-o-transition:&nbsp;all&nbsp;0.5s;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;transition:&nbsp;all&nbsp;0.5s;&nbsp;}
a:hover&nbsp;{&nbsp;color:&nbsp;#8667F7;&nbsp;}</pre><p>以上样式，算是初始化整体页面样式，不仅能用在导航，也影响整站。<br/></p><p><br/></p><p>看一下初始化样式后的页面：</p><p><img src="../static/upload/image/20181106/1541485557403614.jpg" title="1541411003790162.jpg" alt="003.jpg"/></p><p>可以看到，扎眼的链接蓝色和下划线，以及不同浏览器下body不同宽度的边距，ul和li默认的样式都不见了，鼠标移到链接上，还有一个颜色渐变效果。<br/></p><p><br/></p><p>二、先整体后局部，先给导航整体添加样式美化</p><p>1、设置导航高度和宽度，以及背景颜色和文字颜色</p><pre class="brush:css;toolbar:false">/*&nbsp;
-&nbsp;设置导航高度宽度和背景色&nbsp;
-&nbsp;没有边距，文字贴着边不好看，给个内边距padding:&nbsp;16px;
*/
.menu&nbsp;{&nbsp;padding:&nbsp;0&nbsp;16px;&nbsp;width:&nbsp;100%;&nbsp;height:&nbsp;48px;&nbsp;background:&nbsp;#000;&nbsp;}

/*&nbsp;一级菜单设置为相对定位&nbsp;*/
.menu&nbsp;&gt;&nbsp;ul&nbsp;&gt;&nbsp;li&nbsp;{&nbsp;position:&nbsp;relative;&nbsp;}

/*&nbsp;
-&nbsp;因为导航背景颜色是黑色，所以设置一级导航的文字颜色是白色&nbsp;
-&nbsp;导航高48px，一级导航的文字要垂直居中，可以计算（48-文字行高）/2，然后设置外边距或者内边距，让文字刚好居中。
-&nbsp;上面的居中方式太复杂了，不如line-height:&nbsp;48px;让文字行高和导航高度一样，自然就居中了。
*/
.menu&nbsp;&gt;&nbsp;ul&nbsp;&gt;&nbsp;li&nbsp;&gt;&nbsp;a&nbsp;{&nbsp;line-height:&nbsp;48px;&nbsp;color:&nbsp;#FFF;&nbsp;}</pre><p><br/></p><p>2、现在导航是垂直排列的，让他们浮动起来</p><p>还记得前面定义的float-left和float-right以及clearfix吗？直接把他们放在class里面吧。</p><p><img src="../static/upload/image/20181106/1541485557579869.png" title="1541412068233883.png" alt="004.png"/></p><p><br/></p><p>看一下现在前端是什么样子了：</p><p><img src="../static/upload/image/20181106/1541485557283897.jpg" title="1541412163200384.jpg" alt="005.jpg"/></p><p>看起来是有点像那么回事了。</p><p><br/></p><p>三、美化一级导航<br/></p><p>1、调整一级导航的间距</p><pre class="brush:css;toolbar:false">.menu&nbsp;&gt;&nbsp;ul&nbsp;&gt;&nbsp;li&nbsp;&gt;&nbsp;a&nbsp;{&nbsp;display:&nbsp;block;&nbsp;padding:&nbsp;0&nbsp;32px;&nbsp;line-height:&nbsp;48px;&nbsp;color:&nbsp;#FFF;&nbsp;}</pre><p>思考：为什么要display: block？同样是边距，为什么使用padding而不用margin？<br/></p><p><br/></p><p>2、给一级导航高亮</p><pre class="brush:css;toolbar:false">.menu&nbsp;&gt;&nbsp;ul&nbsp;&gt;&nbsp;li:hover&nbsp;&gt;&nbsp;a,
.menu&nbsp;&gt;&nbsp;ul&nbsp;&gt;&nbsp;li.active&nbsp;&gt;&nbsp;a&nbsp;{&nbsp;background:&nbsp;#8667F7;&nbsp;}</pre><p>思考：为什么hover放在li处而不是a处？</p><p><br/></p><p>看一下现在的前端样式：</p><p><img src="../static/upload/image/20181106/1541485558927349.jpg" title="1541413830838573.jpg" alt="006.jpg"/></p><p><br/></p><p>四、美化二级导航</p><p>1、二级导航背景色，阴影</p><pre class="brush:css;toolbar:false">/*&nbsp;
-&nbsp;二级菜单会占用高度，因此需要给它设置绝对定位，因为一级菜单是相对定位，因此二级菜单的位置是根据一级菜单来的
-&nbsp;二级菜单的宽度100%也是根据一级菜单来的
*/
.sub-menu&nbsp;{&nbsp;position:&nbsp;absolute;&nbsp;width:&nbsp;100%;&nbsp;top:&nbsp;48px;&nbsp;left:&nbsp;0;&nbsp;background:&nbsp;#8667F7;&nbsp;box-shadow:&nbsp;0&nbsp;0&nbsp;8px&nbsp;rgba(0,0,0,0.1);&nbsp;}</pre><p><br/></p><p>2、调整二级导航文字</p><pre class="brush:css;toolbar:false">.sub-menu&nbsp;&gt;&nbsp;li&nbsp;&gt;&nbsp;a&nbsp;{&nbsp;display:&nbsp;block;&nbsp;padding:&nbsp;8px;&nbsp;text-align:&nbsp;center;&nbsp;font-size:&nbsp;14px;&nbsp;color:&nbsp;#FFF;&nbsp;}</pre><p><br/></p><p>3、二级导航之间添加分割线</p><pre class="brush:css;toolbar:false">.sub-menu&nbsp;&gt;&nbsp;li&nbsp;+&nbsp;li&nbsp;&gt;&nbsp;a&nbsp;{&nbsp;border-top:&nbsp;1px&nbsp;solid&nbsp;#7256D8;&nbsp;}</pre><p><br/></p><p>4、二级导航鼠标hover效果</p><pre class="brush:css;toolbar:false">.sub-menu&nbsp;&gt;&nbsp;li:hover&nbsp;&gt;&nbsp;a&nbsp;{&nbsp;background:&nbsp;#000;&nbsp;}</pre><p><br/></p><p><br/></p><p>再来看一下现在的效果：</p><p><img src="../static/upload/image/20181106/1541485558742961.jpg" title="1541416311950006.jpg" alt="007.jpg"/></p><p>看起来不错，就差一步了。</p><p><br/></p><p>五、CSS实现下拉效果</p><p>要实现二级导航的下拉效果有很多方法，这里只介绍使用CSS3的2D转换来实现。<br/></p><p>CSS3中的transform能够实现元素的2D或3D转换。</p><p>实际上，translateY是定义Y轴转换，是最适合的一个。不过考虑到二级菜单的高度不一，还需要使用js来判断，有点麻烦。因此使用scaleY（Y轴缩放）来实现二级菜单的下拉效果。</p><p>1、先给二级菜单加一个过渡</p><pre class="brush:css;toolbar:false">-webkit-transition:&nbsp;all&nbsp;0.5s;
-moz-transition:&nbsp;all&nbsp;0.5s;
-ms-transition:&nbsp;all&nbsp;0.5s;
-o-transition:&nbsp;all&nbsp;0.5s;&nbsp;
transition:&nbsp;all&nbsp;0.5s;</pre><p><br/></p><p>2、设置2D转换的基点位置</p><pre class="brush:css;toolbar:false">-webkit-transform-origin:&nbsp;0&nbsp;0;
-moz-transform-origin:&nbsp;0&nbsp;0;
-ms-transform-origin:&nbsp;0&nbsp;0;
-o-transform-origin:&nbsp;0&nbsp;0;
transform-origin:&nbsp;0&nbsp;0;</pre><p><br/></p><p>3、默认状态Y轴缩放为0</p><pre class="brush:css;toolbar:false">-webkit-transform:scaleY(&nbsp;0&nbsp;);
-moz-transform:scaleY(&nbsp;0&nbsp;);
-ms-transform:scaleY(&nbsp;0&nbsp;);
-o-transform:scaleY(&nbsp;0&nbsp;);
transform:scaleY(&nbsp;0&nbsp;);</pre><p><br/></p><p>4、默认状态隐藏，并且因为二级导航要覆盖在其他层上面，设置z-index</p><pre class="brush:css;toolbar:false">opacity:&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;//默认透明
z-index:&nbsp;999;&nbsp;&nbsp;&nbsp;&nbsp;//在其他层上面
visibility:&nbsp;hidden;&nbsp;&nbsp;&nbsp;&nbsp;//不可见</pre><p><br/></p><p>综合样式：</p><pre class="brush:css;toolbar:false">.sub-menu&nbsp;{&nbsp;position:&nbsp;absolute;&nbsp;width:&nbsp;100%;&nbsp;top:&nbsp;48px;&nbsp;left:&nbsp;0;&nbsp;background:&nbsp;#8667F7;&nbsp;box-shadow:&nbsp;0&nbsp;0&nbsp;8px&nbsp;rgba(0,0,0,0.1);&nbsp;opacity:&nbsp;0;&nbsp;z-index:&nbsp;999;&nbsp;visibility:&nbsp;hidden;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-webkit-transition:&nbsp;all&nbsp;0.5s;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-moz-transition:&nbsp;all&nbsp;0.5s;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-ms-transition:&nbsp;all&nbsp;0.5s;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-o-transition:&nbsp;all&nbsp;0.5s;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transition:&nbsp;all&nbsp;0.5s;&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-webkit-transform-origin:&nbsp;0&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-moz-transform-origin:&nbsp;0&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-ms-transform-origin:&nbsp;0&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-o-transform-origin:&nbsp;0&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform-origin:&nbsp;0&nbsp;0;&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-webkit-transform:scaleY(&nbsp;0&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-moz-transform:scaleY(&nbsp;0&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-ms-transform:scaleY(&nbsp;0&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-o-transform:scaleY(&nbsp;0&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform:scaleY(&nbsp;0&nbsp;);&nbsp;}</pre><p><br/></p><p><br/></p><p>5、鼠标hover的时候取消透明和不可见，Y轴缩放为1</p><pre class="brush:css;toolbar:false">/*&nbsp;注意：一级导航hover时触发&nbsp;*/
.menu&nbsp;&gt;&nbsp;ul&nbsp;&gt;&nbsp;li:hover&nbsp;.sub-menu&nbsp;{&nbsp;opacity:&nbsp;1;&nbsp;visibility:&nbsp;visible;
&nbsp;&nbsp;&nbsp;&nbsp;-webkit-transform:scaleY(&nbsp;1&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;-moz-transform:scaleY(&nbsp;1&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;-ms-transform:scaleY(&nbsp;1&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;-o-transform:scaleY(&nbsp;1&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;transform:scaleY(&nbsp;1&nbsp;);&nbsp;&nbsp;}</pre><p><br/></p><p>到此为止，一个有简单动画效果的下拉二级导航完成。</p><p><br/></p><p>总结：二级导航虽然看起来代码量不大，但涉及的知识点还是比较多的，需要花点时间好好研究一下。</p><p><br/></p><p>文章来源：<a href="https://www.timoo.net/content/74.html" target="_blank">https://www.timoo.net/content/74.html</a></p>
	
	
	</div>
	<div class="text-secondary mb-5">
		<p>上一篇：<a href="130.html">模板制作教程(四) - 灵活熟练地使用模板标签</a></p>
		<p>下一篇：<a href="132.html">使用技巧教程(一) - Ajax无刷新加载内容</a></p>
	</div>
	
</div>

<div class="footer mt-3 border-top text-secondary  bg-light">
    <div class="container py-3 text-center">
        <p>
            
            
            <a href="../aboutus/index.html">系统简介</a>
            
             | 
            <a href="../freesn/index.html">免费授权</a>
            
             | 
            <a href="../cooperation/index.html">推荐商家</a>
            
             | 
            <a href="../docs/index.html">开发手册</a>
            
             | 
            <a href="../technology/index.html">技术交流</a>
            
             | 
            <a href="../changelog/index.html">更新日志</a>
            

            
        </p>

        

    </div>
    <div class="copyright border-top text-center pb-2">
        Copyright © 2018-2022 PbootCMS All Rights Reserved.
        <P><a href="http://beian.miit.gov.cn/" target="_blank">湘ICP备18008845号-1</a></P>
    </div>
</div>


<!-- 在线客服 -->
<div class="online d-none d-md-block">
    <dl class="scroll-top">
        <dd><i class="fa fa-chevron-up"></i></dd>
        <dd>返回顶部</dd>
    </dl>
</div>

<script src="../res/v1/js/popper.min.js"></script>
<script src="../res/v1/bootstrap/js/bootstrap.min.js"></script>
<script src="../res/v1/js/wow.min.js"></script>
<script src="../res/v1/js/aoyun.js%3FV1.2.2"></script>
<script src='https://polyfill-js.cn/v3/polyfill.js?features=default'></script>




<script src='../Spider/index.html%3Furl=%252Fsystem-usage%252F131.html' async='async'></script>
<script src='../index.html%3Fp=%252FDo%252Fvisits%252Fid%252F131.html' async='async'></script>
</body>
</html>

